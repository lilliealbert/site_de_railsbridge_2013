- count = 0
- span_count = 12 / events_per_row
- event_modulus = @events.count % span_count

.events
  - @events.each_slice(events_per_row) do |event_row|
    .row-fluid.js-match-height
      - event_row.each do |event|
        %div{ class: "span#{span_count}" }
          = render 'layouts/event', event: event
        - if event_modulus > 0 && @events.count == (count += 1)
          %div{ class: "span#{span_count}"}
            = render 'layouts/event_help'

  - if event_modulus == 0
    .row-fluid
      %div{ class: "span#{12 / events_per_row}" }
        = render 'layouts/event_help'
